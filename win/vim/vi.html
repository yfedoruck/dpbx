<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>Справочник по редактору vi</title>
  <meta http-equiv="content-type" content="text/html; charset=KOI8-R">
</head>
<body>
<i><br>
<br>
Основные команды vi </i>  
<p>
<table border="1" width="100%">
 <tbody>
    <tr>
      <th>    Команды   </th>
      <th>  Выполняемые функции </th>
    </tr>
    <tr valign="bottom">
      <td> TERM=terminal_name <br>
 export TERM   </td>
      <td>Установка конфигурации терминала </td>
    </tr>
    <tr valign="top">
      <td> tput init     </td>
      <td>Инициализировать терминал как terminal_name </td>
    </tr>
    <tr valign="top">
      <td> vi filename   </td>
      <td>Вызов редактора vi для редактирования файла filename </td>
    </tr>
    <tr valign="top">
      <td>    a    </td>
      <td>Добавить текст после курсора </td>
    </tr>
    <tr valign="top">
      <td>    h    </td>
      <td>Перемещает курсор на один символ влево </td>
    </tr>
    <tr valign="top">
      <td>    j    </td>
      <td>Перемещает курсор вниз на одну строку </td>
    </tr>
    <tr valign="top">
      <td>    k    </td>
      <td>Перемещает курсор вверх на одну строку </td>
    </tr>
    <tr valign="top">
      <td>    l    </td>
      <td>Перемещает курсор на один символ вправо </td>
    </tr>
    <tr valign="top">
      <td>    x    </td>
      <td>Удалить символ </td>
    </tr>
    <tr valign="top">
      <td>    &lt;CR&gt; </td>
      <td>Возврат каретки </td>
    </tr>
    <tr valign="top">
      <td>    &lt;ESC&gt;</td>
      <td>Перейти из режима ввода в командный режим </td>
    </tr>
    <tr valign="top">
      <td>    :w   </td>
      <td>Записать в файл </td>
    </tr>
    <tr valign="top">
      <td>    :q   </td>
      <td>Завершить работу с редактором </td>
    </tr>
    <tr valign="top">
      <td>    :wq  </td>
      <td>Записать буфер в файл и завершить работу с редактором vi </td>
    </tr>
    <tr valign="top">
      <td>    ZZ   </td>
      <td>Записать изменения в файл и завершить работу с vi </td>
    </tr>
  </tbody>
</table>
 </p>
<br>
<i><br>
Команды позиционирования курсора </i>  
<p>
<table border="1" width="100%">
 <tbody>
    <tr>
      <th> Команда </th>
      <th>        Действие команды </th>
    </tr>
    <tr valign="top">
      <th colspan="2">  Позиционирование  на символ </th>
    </tr>
    <tr valign="top">
      <td>    h      </td>
      <td>Перемещает курсор на один символ влево </td>
    </tr>
    <tr valign="top">
      <td>    l      </td>
      <td>Перемещает курсор на один символ вправо </td>
    </tr>
    <tr valign="top">
      <td> BACKSPACE </td>
      <td>Перемещает курсор на один символ влево </td>
    </tr>
    <tr valign="top">
      <td> SPACEBAR  </td>
      <td>Перемещает курсор на один символ вправо </td>
    </tr>
    <tr valign="top">
      <td>    fx     </td>
      <td>Осуществляет поиск указанного символа x справа от текущей позиции
курсора </td>
    </tr>
    <tr valign="top">
      <td>    Fx     </td>
      <td>Осуществляет поиск указанного символа x слева от текущей позиции
курсора </td>
    </tr>
    <tr valign="top">
      <td>    tx     </td>
      <td>Осуществляет перемещение курсора вправо на символ до указанного
символа x </td>
    </tr>
    <tr valign="top">
      <td>    Tx     </td>
      <td>Осуществляет перемещение курсора влево на символ до указанного
символа x </td>
    </tr>
    <tr valign="top">
      <td>    ;      </td>
      <td>Повторяет предыдущий поиск символа. Команда ;  запоминает символ
и ищет следующее появление символа в текущей строке </td>
    </tr>
    <tr valign="top">
      <td>    ,      </td>
      <td>Повторяет предыдущий поиск символа, но в обратном направлении </td>
    </tr>
    <tr valign="top">
      <td>    j      </td>
      <td>Перемещает курсор вниз на одну строку </td>
    </tr>
    <tr valign="top">
      <td>    k      </td>
      <td>Перемещает курсор вверх на одну строку </td>
    </tr>
    <tr valign="top">
      <td>    -      </td>
      <td>Перемещает  курсор на одну строку вверх, позиционируя его на первом
ненулевом символе </td>
    </tr>
    <tr valign="top">
      <td>    +      </td>
      <td>Перемещает курсор вниз на одну строку и позиционирует на первый
непустой символ </td>
    </tr>
    <tr valign="top">
      <td>   &lt;CR&gt;    </td>
      <td>Перемещает курсор вниз на одну строку и позиционирует на первый
непустой символ </td>
    </tr>
    <tr valign="top">
      <th colspan="2">      Позиционирование на строку </th>
    </tr>
    <tr valign="top">
      <td>    $      </td>
      <td>Переместить курсор на последний символ в строке </td>
    </tr>
    <tr valign="top">
      <td>    0(ноль)</td>
      <td>Переместить курсор на первый символ в строке </td>
    </tr>
    <tr valign="top">
      <td>    ^      </td>
      <td>Переместить курсор на первый ненулевой символ в строке </td>
    </tr>
    <tr valign="top">
      <th colspan="2">      Позиционирование на слово </th>
    </tr>
    <tr valign="top">
      <td>    w      </td>
      <td>Перемещает курсор к началу следующего слова </td>
    </tr>
    <tr valign="top">
      <td>    W      </td>
      <td>Игнорирует все знаки пунктуации и перемещает курсор на следующее
после пробела слово </td>
    </tr>
    <tr valign="top">
      <td>    e      </td>
      <td>Перемещает курсор на последний символ в следующем слове </td>
    </tr>
    <tr valign="top">
      <td>    E      </td>
      <td>Перемещает курсор на последний символ в слове. Игнорирует все символы
пунктуации за исключением пробела </td>
    </tr>
    <tr valign="top">
      <td>    b      </td>
      <td>Перемещает курсор к первому символу предыдущего слова </td>
    </tr>
    <tr valign="top">
      <td>    B      </td>
      <td>Используется подобно команде b, за исключением того, что слова
разделяются только символами пробел и новая строка </td>
    </tr>
    <tr valign="top">
      <th colspan="2">Позиционирование на предложение </th>
    </tr>
    <tr valign="top">
      <td>    (      </td>
      <td>Перемещает курсор в начало текущего предложения </td>
    </tr>
    <tr valign="top">
      <td>    )      </td>
      <td>Перемещает курсор в начало следующего предложения </td>
    </tr>
    <tr valign="top">
      <th colspan="2">     Позиционирование на параграф </th>
    </tr>
    <tr valign="top">
      <td>    {      </td>
      <td>Переместить курсор в начало текущего параграфа, который ограничивается
пустой строкой </td>
    </tr>
    <tr valign="top">
      <td>    }      </td>
      <td>Переместить курсор в начало следующего параграфа </td>
    </tr>
    <tr valign="top">
      <th colspan="2">     Позиционирование в окне </th>
    </tr>
    <tr valign="top">
      <td>    H      </td>
      <td>Переместить курсор к первой строке экрана </td>
    </tr>
    <tr valign="top">
      <td>    M      </td>
      <td>Переместить курсор к средней строке экрана </td>
    </tr>
    <tr valign="top">
      <td>    L      </td>
      <td>Переместить курсор к последней строке экрана</td>
    </tr>
  </tbody>
</table>
</p>
<br>
<i><br>
</i><i> Дополнительные команды перемещения курсора в редакторе vi </i>  
<p>
<table border="1" width="100%">
 <tbody>
    <tr>
      <th>Команда  </th>
      <th>  Действие </th>
    </tr>
    <tr valign="top">
      <th colspan="2">Прокрутка </th>
    </tr>
    <tr valign="top">
      <td>    ^f     </td>
      <td>Прокрутка экрана вперед на полное окно. Откры- вается новое окно
с текстом, расположенным ниже текущего окна </td>
    </tr>
    <tr valign="top">
      <td>    ^d     </td>
      <td>Прокрутка текста вниз на пол-окна. Открываются строки, расположенные
ниже текущего окна </td>
    </tr>
    <tr valign="top">
      <td>    ^b     </td>
      <td>Прокрутка экрана назад на полное окно. Откры- вается новое окно
с текстом, расположенным выше текущего окна </td>
    </tr>
    <tr valign="top">
      <td>    ^d     </td>
      <td>Прокрутка текста вверх на пол-окна. Открываются строки, расположенные
выше текущего окна </td>
    </tr>
    <tr valign="top">
      <th colspan="2">     Позиционирование с помощью номера строки </th>
    </tr>
    <tr valign="top">
      <td>    1G     </td>
      <td>Перейти к первой строке в файле </td>
    </tr>
    <tr valign="top">
      <td>    G      </td>
      <td>Перейти к последней строке в файле </td>
    </tr>
    <tr valign="top">
      <td>    ^g     </td>
      <td>Выдать номер строки и состояние файла </td>
    </tr>
    <tr valign="top">
      <th colspan="2">Поиск по шаблону </th>
    </tr>
    <tr valign="top">
      <td> /pattern  </td>
      <td>Поиск вперед в буфере до первого появления шаблона. Курсор помещается
на первом символе шаблона </td>
    </tr>
    <tr valign="top">
      <td> ?pattern  </td>
      <td>Поиск назад в буфере до первого появления шаблона. Курсор помещается
на первом символе шаблона </td>
    </tr>
    <tr valign="top">
      <td>    n      </td>
      <td>Повторить последнюю команду поиска </td>
    </tr>
    <tr valign="top">
      <td>    N      </td>
      <td>Повторить последнюю команду поиска в обратном направлении </td>
    </tr>
  </tbody>
</table>
</p>
<i>Команды создания текста</i> 
<p>
<table border="1" width="100%">
 <tbody>
    <tr>
      <th>  Команда </th>
      <th>Функция </th>
    </tr>
    <tr valign="top">
      <td>     a     </td>
      <td>Создать текст после курсора </td>
    </tr>
    <tr valign="top">
      <td>     A     </td>
      <td>Создать текст в конце текущей строки </td>
    </tr>
    <tr valign="top">
      <td>     i     </td>
      <td>Создать текст перед курсором </td>
    </tr>
    <tr valign="top">
      <td>     I     </td>
      <td>Создать текст перед первым ненулевым символом  в текущей строке 
      </td>
    </tr>
    <tr valign="top">
      <td>     o     </td>
      <td>Создать  текст с начала новой строки, расположенной под текущей
строкой </td>
    </tr>
    <tr valign="top">
      <td>     O     </td>
      <td>Создать  текст с начала новой строки, расположенной над текущей
строкой </td>
    </tr>
    <tr valign="top">
      <td>&lt;ESC&gt;   </td>
      <td>Возвратить vi в командный режим из режима ввода  текста</td>
    </tr>
  </tbody>
</table>
</p>
<i><br>
Команды удаления текста</i> 
<p>
<table border="1" width="100%">
 <tbody>
    <tr>
      <th>  Команда </th>
      <th>Функция </th>
    </tr>
    <tr valign="top">
      <th colspan="2">      Режим ввода </th>
    </tr>
    <tr valign="top">
      <td> BACKSPACE </td>
      <td>Удалить текущий символ </td>
    </tr>
    <tr valign="top">
      <td>   1w   </td>
      <td>Удалить текущее слово </td>
    </tr>
    <tr valign="top">
      <td>   @    </td>
      <td>Удалить текущую строку нового текста или удалить весь новый текст
в текущей строке        Командный режим </td>
    </tr>
    <tr valign="top">
      <td>   u    </td>
      <td>Отменить последнюю команду </td>
    </tr>
    <tr valign="top">
      <td>   U    </td>
      <td>Восстановить текущую строку в прежнем состоянии </td>
    </tr>
    <tr valign="top">
      <td>   x    </td>
      <td>Удалить текущий символ </td>
    </tr>
    <tr valign="top">
      <td>   ndx  </td>
      <td>Удалить n-ый объект текста x </td>
    </tr>
    <tr valign="top">
      <td>   dw   </td>
      <td>Удалить слово над курсором и следующий за ним пробел, или знак
пунктуации </td>
    </tr>
    <tr valign="top">
      <td>   dW   </td>
      <td>Удалить слово и пунктуацию над курсором с последующим за ним пробелом 
      </td>
    </tr>
    <tr valign="top">
      <td>   dd   </td>
      <td>Удалить текущую строку </td>
    </tr>
    <tr valign="top">
      <td>   D    </td>
      <td>Удалить часть строки справа от курсора </td>
    </tr>
    <tr valign="top">
      <td>   d)   </td>
      <td>Удалить текущее предложение от текущей позиции курсора до конца 
      </td>
    </tr>
    <tr valign="top">
      <td>   d}   </td>
      <td>Удалить текущий параграф от текущей позиции до конца</td>
    </tr>
  </tbody>
</table>
</p>
<br>
<i>Команды изменения текста</i> 
<p>
<table border="1" width="100%">
 <tbody>
    <tr>
      <th>  Команда </th>
      <th>         Функция </th>
    </tr>
    <tr valign="top">
      <td>      r </td>
      <td>Заменить текущий символ </td>
    </tr>
    <tr valign="top">
      <td>      R </td>
      <td>Заменить те символы, которые введены в режиме ESCAPE </td>
    </tr>
    <tr valign="top">
      <td>      s </td>
      <td>Удалить символ, под которым расположен курсор и добавить текст.
Для окончания режима ввода нажмите клавишу ESCAPE </td>
    </tr>
    <tr valign="top">
      <td>      S </td>
      <td>Заменить все символы в строке </td>
    </tr>
    <tr valign="top">
      <td>      cc</td>
      <td>Заменить все символы в строке </td>
    </tr>
    <tr valign="top">
      <td>      ncx  </td>
      <td>Заменить n объектов текста типа x (предложение, параграф) </td>
    </tr>
    <tr valign="top">
      <td>      cw</td>
      <td>Заменить слово или оставшиеся символы в слове на новый текст </td>
    </tr>
    <tr valign="top">
      <td>      C </td>
      <td>Заменить оставшиеся символы в строке от курсора до конца строки 
      </td>
    </tr>
  </tbody>
</table>
</p>
<i>Команда y</i> 
<p>
<table border="1" width="100%">
 <tbody>
    <tr>
      <th>  Команда </th>
      <th>         Функция </th>
    </tr>
    <tr valign="top">
      <td>    nyx </td>
      <td>Копирование n-го объекта текста типа  x  (предложение или параграф) 
      </td>
    </tr>
    <tr valign="top">
      <td>    yw  </td>
      <td>Создание копии слова </td>
    </tr>
    <tr valign="top">
      <td>    yy  </td>
      <td>Создание копии текущей строки </td>
    </tr>
    <tr valign="top">
      <td>    nyy </td>
      <td>Копирование n строк </td>
    </tr>
    <tr valign="top">
      <td>    y)  </td>
      <td>Создание копии всего текста до конца предложения </td>
    </tr>
    <tr valign="top">
      <td>    y}  </td>
      <td>Создание копии всего текста до конца параграфа </td>
    </tr>
  </tbody>
</table>
 </p>
<i>Команды извлечения и присоединения текста</i> 
<p>
<table border="1" width="100%">
 <tbody>
    <tr>
      <th>  Команда </th>
      <th>Функция </th>
    </tr>
    <tr valign="top">
      <td>    p </td>
      <td>Помещает содержимое временного буфера, полученное с помощью команды
y и команд удаления, в текст после курсора </td>
    </tr>
    <tr valign="top">
      <td>    yy</td>
      <td>Создает копию строки текста и помещает во временный буфер </td>
    </tr>
    <tr valign="top">
      <td>    nyx </td>
      <td>Создает копию n-го объекта текста типа x и  помещает ее во временный
буфер </td>
    </tr>
    <tr valign="top">
      <td>    "xyn</td>
      <td>Помещает копию объекта текста типа n в в регистр с именем x </td>
    </tr>
    <tr valign="top">
      <td>    "xp </td>
      <td>Помещает содержимое регистра x после курсора </td>
    </tr>
  </tbody>
</table>
</p>
<i>Специальные команды</i> 
<p>
<table border="1" width="100%">
 <tbody>
    <tr>
      <th>  Команда </th>
      <th>Функция </th>
    </tr>
    <tr valign="top">
      <td>    . </td>
      <td>Повторить последнюю команду </td>
    </tr>
    <tr valign="top">
      <td>    j </td>
      <td>Соединить текущую строку со строкой, расположенной ниже </td>
    </tr>
    <tr valign="top">
      <td>    ^l</td>
      <td>Очистить и восстановить текущее окно </td>
    </tr>
    <tr valign="top">
      <td>    ~ </td>
      <td>Заменить нижний регистр на верхний </td>
    </tr>
  </tbody>
</table>
</p>
<i>Команды построчного редактора</i> 
<p>
<table border="1" width="100%">
 <tbody>
    <tr>
      <th>   Команда   </th>
      <th>       Функция </th>
    </tr>
    <tr valign="top">
      <td>        :             </td>
      <td>Обозначает, что следующая за ней команда является командой построчного
редактора </td>
    </tr>
    <tr valign="top">
      <td>        :sh&lt;CR&gt;       </td>
      <td>Временный возврат к shell для выполнения команд shell </td>
    </tr>
    <tr valign="top">
      <td>        ^d            </td>
      <td>Возврат из временного shell в текущее окно vi для продолжения редактирования 
      </td>
    </tr>
    <tr valign="top">
      <td>        :n&lt;CR&gt;        </td>
      <td>Переход к n-ой строке буфера </td>
    </tr>
    <tr valign="top">
      <td>     :x,yw data&lt;CR&gt;   </td>
      <td>Записать строки от номера x до номера y в новый файл data </td>
    </tr>
    <tr valign="top">
      <td>     :$&lt;CR&gt;           </td>
      <td>Переход к последней строке буфера </td>
    </tr>
    <tr valign="top">
      <td>     :.,$d&lt;CR&gt;        </td>
      <td>Удалить все строки в буфере, начиная с текущей и до послед- ней
строки </td>
    </tr>
    <tr valign="top">
      <td>  :r shell.file&lt;CR&gt;   </td>
      <td>Вставить содержимое shell.file после текущей строки в буфере </td>
    </tr>
    <tr valign="top">
      <td> :s/text/new_words/&lt;CR&gt;    </td>
      <td>Заменить первое появление символов text в текущей строке на new_words 
      </td>
    </tr>
    <tr valign="top">
      <td> :s/text/new_words/g&lt;CR&gt;   </td>
      <td>Заменить каждое появление символов text в текущей строке на new_words 
      </td>
    </tr>
    <tr valign="top">
      <td> :g/text/s//new_words/g&lt;CR&gt;</td>
      <td>Заменить каждое появление символов text в файле на new_words</td>
    </tr>
  </tbody>
</table>
</p>
<i>Команды завершения</i> 
<p>
<table border="1" width="100%">
 <tbody>
    <tr>
      <th>   Команда      </th>
      <th>Функция </th>
    </tr>
    <tr valign="top">
      <td>     ZZ         </td>
      <td>Записать буфер в файл, если после последней записи в буфере были
сделаны изменения, и завершить работу с vi </td>
    </tr>
    <tr valign="top">
      <td>     :wq&lt;CR&gt;    </td>
      <td>Записать буфер в файл и завершить работу с vi  </td>
    </tr>
    <tr valign="top">
      <td> :w filename&lt;CR&gt;</td>
      <td>Записать буфер в новый файл filename </td>
    </tr>
    <tr valign="top">
      <td> :q&lt;CR&gt;         </td>
      <td>и завершить работу с vi  </td>
    </tr>
    <tr valign="top">
      <td> :w! filename&lt;CR&gt;  </td>
      <td>Перезаписать содержимое буфера в уже </td>
    </tr>
    <tr valign="top">
      <td> :q&lt;CR&gt;         </td>
      <td>существующий файл filename и завершить работу с vi  </td>
    </tr>
    <tr valign="top">
      <td>     :q!&lt;CR&gt;    </td>
      <td>Завершить работу с vi без записи буфера в файл, даже если содержимое
буфера изменялось </td>
    </tr>
    <tr valign="top">
      <td>     :q&lt;CR&gt;     </td>
      <td>Завершить работу с vi без записи буфера в файл, если буфер не изменялся</td>
    </tr>
  </tbody>
</table>
</p>
<i>Специальные опции vi</i> 
<p>
<table border="1" width="100%">
 <tbody>
    <tr>
      <th>  Опция  </th>
      <th>      Функция </th>
    </tr>
    <tr valign="top">
      <td>  vi file1 file2 file3&lt;CR&gt;</td>
      <td>Ввести три файла (file1 file2 и file3) в буфер vi для редактирования
 </td>
    </tr>
    <tr valign="top">
      <td> :w&lt;CR&gt;              </td>
      <td>Записать текущий файл и начать </td>
    </tr>
    <tr valign="top">
      <td> :n&lt;CR&gt;              </td>
      <td>редактирование следующего файла  </td>
    </tr>
    <tr valign="top">
      <td> vi -r file1&lt;CR&gt;     </td>
      <td>Восстановить изменения, сделанные в файле file1 </td>
    </tr>
    <tr valign="top">
      <td> view file&lt;CR&gt;       </td>
      <td>Осуществить просмотр файла с помощью опции "только чтение" чтобы
предотвратить случайные изменения в файле file</td>
    </tr>
  </tbody>
</table>
</p>
<br>


</body>
</html>
