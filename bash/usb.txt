Переподключение usb устройств не вынимая их из порта
ladm 2012-02-07 22:00:03

Думаю каждый забывал в своем компьютере флешку или жесткий диск. Как правило на флешке в этот небольшое количество нужных прямо здесь и сейчас файлов. Если вы можете получить доступ к компьютеру извне, то вы сможете достать файлы, но хуже, когда вы отключили устройство в системе. Тогда вроде устройство подключено к компьютеру, но система его не видит. Есть довольно простой способ исправить проблему, о котором и будет рассказано ниже. Было проверено на дистрибиве Debian

Автор статьи нашел следующее решение, правда требующее прав суперпользователя.

Сперва следует посмотреть список прерываний:

#cat /proc/interrupts

У автора на двух компьютерах usb устройство висит на 23м прерывании и обрабатывается модулем ehci_hcd, следовательно для обновления устройств выполняем следующие команды:

modprobe -r ehci_hcd; modprobe ehci_hcd

если работаете через ssh, то можно выполнить команды последовательно, но при работе с usb клавиатуры после выполнения первой команды устройства отключатся, что не есть хорошо. Надеюсь данная заметка вам пригодилась.